(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{258:function(e,o){e.exports={google:{clientID:"43984348946-v5bkev5uglvifjoscg0pvj4d4qi2n8k1.apps.googleusercontent.com",clientSecret:"lHAUTAHDRHs81m9CL-8axa5m"},mongo:{dbURI:"mongodb+srv://daveslist:daveslist123@cluster0.3yl9h.mongodb.net/?retryWrites=true&w=majority"},session:{cookieKey:"tryandguessmyidformycookieiditwillbeencyrpted"}}},259:function(e,o,n){"use strict";(function(e,o){var t=n(534),i=n(535),s=n(536),c=i.basename(e.filename),a=n(758).production,l={};if(a.use_env_variable)var u=new s(Object({NODE_ENV:"production",PUBLIC_URL:"/Wustix/ProjectFun2"})[a.use_env_variable]);else u=new s(a.database,a.username,a.password,a);t.readdirSync(o).filter(function(e){return 0!==e.indexOf(".")&&e!==c&&".js"===e.slice(-3)}).forEach(function(e){var n=u.import(i.join(o,e));l[n.name]=n}),Object.keys(l).forEach(function(e){l[e].associate&&l[e].associate(l)}),l.sequelize=u,l.Sequelize=s,e.exports=l}).call(this,n(54)(e),"/")},298:function(e,o){function n(e){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=298},309:function(e,o,n){e.exports=n(310)},310:function(e,o,n){var t=n(125),i=n(158),s=(n(506),n(161)),c=n(258),a=n(526),l=t(),u=n(126);l.use(u.urlencoded({extended:!0})),l.use(u.json()),l.set("view engine","html"),l.use(a({maxAge:864e5,keys:[c.session.cookieKey]})),l.use(i.initialize()),l.use(i.session());var r=n(259);l.use(t.static("public")),n(759)(l),n(782)(l),l.use("/auth",n(784)),l.use("/profile",n(785)),s.connect(c.mongo.dbURI,{useNewUrlParser:!0}),l.get("/",function(e,o){o.render("login",{user:e.user})}),r.sequelize.sync().then(function(){l.listen(3e3,function(){console.log("App listening on PORT 3000")})})},319:function(e,o){},321:function(e,o){},357:function(e,o){},358:function(e,o){},375:function(e,o){},385:function(e,o){},390:function(e,o){function n(e){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=390},397:function(e,o){},399:function(e,o){},427:function(e,o){},428:function(e,o){},433:function(e,o){},435:function(e,o){},442:function(e,o){},461:function(e,o){},506:function(e,o,n){var t=n(158),i=n(507).Strategy,s=n(258),c=n(525);n(161);t.serializeUser(function(e,o){o(null,e.id)}),t.deserializeUser(function(e,o){c.findById(e).then(function(e){o(null,e)})}),t.use(new i({clientID:s.google.clientID,clientSecret:s.google.clientSecret,callbackURL:"https://daves-list.herokuapp.com/home"},function(e,o,n,t){console.log("tokens",e,o),console.log("authnticate with google"),c.findOne({googleId:n.id}).then(function(e){e?(console.log("user is: ",e),t(null,e)):new c({username:n.displayName,googleId:n.id}).save().then(function(e){console.log("new user created: "+e),t(null.newUser)})})}))},525:function(e,o,n){var t=n(161),i=new(0,t.Schema)({username:String,googleId:String}),s=t.model("user",i);e.exports=s},534:function(e,o){},535:function(e,o){},758:function(e){e.exports={production:{username:"bk1fn1x6omodiu2k",password:"fz4ht565ldhs0b9a",database:"mw2z5vk9ocfx8daz",host:"dt3bgg3gu6nqye5f.cbetxkdyhwsb.us-east-1.rds.amazonaws.com",dialect:"mysql"},development:{username:"bk1fn1x6omodiu2k",password:"fz4ht565ldhs0b9a",database:"mw2z5vk9ocfx8daz",host:"dt3bgg3gu6nqye5f.cbetxkdyhwsb.us-east-1.rds.amazonaws.com",dialect:"mysql"},test:{username:"bk1fn1x6omodiu2k",password:"fz4ht565ldhs0b9a",database:"mw2z5vk9ocfx8daz",host:"dt3bgg3gu6nqye5f.cbetxkdyhwsb.us-east-1.rds.amazonaws.com",dialect:"mysql"}}},759:function(e,o,n){var t=n(259),i=n(126),s=n(760);e.exports=function(e){e.use(i.urlencoded({extended:!0})),e.use(i.json()),e.post("/send",function(e,o){var n="\n      <p>You have a new contact request</p>\n      <h3>Contact Details</h3>\n      <ul>  \n        <li>Name: ".concat(e.body.Name,"</li>\n        <li>Email: ").concat(e.body.Email,"</li>\n        <li>Message: ").concat(e.body.Message,"</li>\n      </ul>\n    "),t="\n       ".concat(e.body.ToEmail,"\n  "),i=s.createTransport({host:"smtp.mail.yahoo.com",port:465,service:"yahoo",secure:!1,auth:{user:"projectemail1212@yahoo.com",pass:"1111asdf"},debug:!1,logger:!0}),c={from:"projectemail1212@yahoo.com",to:t,subject:"daveslist",text:"You have a new daveslist message below:",html:n};console.log(c),i.sendMail(c,function(e,o){e?console.log(e):console.log("Email sent: "+o.response)}),o.redirect("/home")}),e.post("/contactSend",function(e,o){var n="\n      <p>You have a new contact request</p>\n      <h3>Contact Details</h3>\n      <ul>  \n        <li>Name: ".concat(e.body.Name,"</li>\n        <li>Email: ").concat(e.body.Email,"</li>\n        <li>Message: ").concat(e.body.Message,"</li>\n      </ul>\n    "),t=s.createTransport({service:"gmail",auth:{user:"hotrest123@gmail.com",pass:"1111asdf"}}),i={from:"hotrest123@gmail.com",to:"dave@dhoff.net",subject:"daveslist Contact Us Message",text:"You have a new daveslist contact us message below:",html:n};console.log(i),t.sendMail(i,function(e,o){e?console.log(e):console.log("Email sent: "+o.response)}),o.redirect("/home")}),e.get("/api/posts/",function(e,o){t.Post.findAll({}).then(function(e){o.json(e)})}),e.get("/api/posts/category/:category",function(e,o){t.Post.findAll({where:{category:e.params.category}}).then(function(e){o.json(e)})}),e.get("/api/posts/:id",function(e,o){t.Post.findOne({where:{id:e.params.id}}).then(function(e){o.json(e)})}),e.post("/api/posts",function(e,o){console.log(e.body),t.Post.create({title:e.body.title,email:e.body.email,price:e.body.price,photo:e.body.photo,body:e.body.body,category:e.body.category}).then(function(e){o.json(e)})}),e.delete("/api/posts/:id",function(e,o){t.Post.destroy({where:{id:e.params.id}}).then(function(e){o.json(e)})}),e.put("/api/posts",function(e,o){t.Post.update(e.body,{where:{id:e.body.id}}).then(function(e){o.json(e)})})}},782:function(e,o,n){(function(o){var t=n(783);e.exports=function(e){e.get("/",function(e,n){n.sendFile(t.join(o,"../public/login.html"))}),e.get("/form",function(e,n){n.sendFile(t.join(o,"../public/form.html"))}),e.get("/home",function(e,n){n.sendFile(t.join(o,"../public/index.html"))}),e.get("/email",function(e,n){n.sendFile(t.join(o,"../public/email.html"))}),e.get("/login",function(e,n){n.sendFile(t.join(o,"../public/login.html"))})}}).call(this,"/")},783:function(e,o){},784:function(e,o,n){var t=n(125).Router(),i=n(158);t.get("/google",i.authenticate("google",{scope:["profile"]})),t.get("/google/redirect",i.authenticate("google"),function(e,o){console.log("redirecting"),o.redirect("/home")}),e.exports=t},785:function(e,o,n){var t=n(125).Router();t.get("/",function(e,o,n){e.user?n():o.redirect("/auth/login")},function(e,o){o.render("profile",{user:e.user})}),e.exports=t}},[[309,1,2]]]);
//# sourceMappingURL=main.3bfdba1e.chunk.js.map