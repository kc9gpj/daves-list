(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{267:function(e,o){e.exports={google:{clientID:"43984348946-v5bkev5uglvifjoscg0pvj4d4qi2n8k1.apps.googleusercontent.com",clientSecret:"lHAUTAHDRHs81m9CL-8axa5m"},mongo:{dbURI:"mongodb+srv://daveslist:daveslist123@cluster0.3yl9h.mongodb.net/?retryWrites=true&w=majority"},session:{cookieKey:"tryandguessmyidformycookieiditwillbeencyrpted"}}},268:function(e,o,n){"use strict";(function(e,o){var t=n(541),i=n(542),s=n(543),c=i.basename(e.filename),a=n(765).production,r={};if(a.use_env_variable)var u=new s(Object({NODE_ENV:"production",PUBLIC_URL:"/Wustix/ProjectFun2"})[a.use_env_variable]);else u=new s(a.database,a.username,a.password,a);t.readdirSync(o).filter(function(e){return 0!==e.indexOf(".")&&e!==c&&".js"===e.slice(-3)}).forEach(function(e){var n=u.import(i.join(o,e));r[n.name]=n}),Object.keys(r).forEach(function(e){r[e].associate&&r[e].associate(r)}),r.sequelize=u,r.Sequelize=s,e.exports=r}).call(this,n(32)(e),"/")},307:function(e,o){function n(e){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=307},320:function(e,o,n){e.exports=n(321)},321:function(e,o,n){var t=n(131),i=n(164),s=(n(513),n(167)),c=n(267),a=n(533),r=t(),u=n(132);r.use(u.urlencoded({extended:!0})),r.use(u.json()),r.set("view engine","html"),r.use(a({maxAge:864e5,keys:[c.session.cookieKey]})),r.use(i.initialize()),r.use(i.session());var l=n(268);r.use(t.static("public")),n(766)(r),n(809)(r),r.use("/auth",n(811)),r.use("/profile",n(812)),s.connect(c.mongo.dbURI,{useNewUrlParser:!0}),r.get("/",function(e,o){o.render("login",{user:e.user})}),l.sequelize.sync().then(function(){r.listen(3e3,function(){console.log("App listening on PORT 3000")})})},330:function(e,o){},332:function(e,o){},368:function(e,o){},369:function(e,o){},386:function(e,o){},395:function(e,o){},398:function(e,o){function n(e){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=398},404:function(e,o){},406:function(e,o){},434:function(e,o){},436:function(e,o){},437:function(e,o){},442:function(e,o){},444:function(e,o){},450:function(e,o){},452:function(e,o){},471:function(e,o){},483:function(e,o){},486:function(e,o){},513:function(e,o,n){var t=n(164),i=n(514).Strategy,s=n(267),c=n(532);n(167);t.serializeUser(function(e,o){o(null,e.id)}),t.deserializeUser(function(e,o){c.findById(e).then(function(e){o(null,e)})}),t.use(new i({clientID:s.google.clientID,clientSecret:s.google.clientSecret,callbackURL:"https://daves-list.herokuapp.com/home"},function(e,o,n,t){console.log("tokens",e,o),console.log("authnticate with google"),c.findOne({googleId:n.id}).then(function(e){e?(console.log("user is: ",e),t(null,e)):new c({username:n.displayName,googleId:n.id}).save().then(function(e){console.log("new user created: "+e),t(null.newUser)})})}))},532:function(e,o,n){var t=n(167),i=new(0,t.Schema)({username:String,googleId:String}),s=t.model("user",i);e.exports=s},541:function(e,o){},542:function(e,o){},765:function(e){e.exports={production:{username:"bk1fn1x6omodiu2k",password:"fz4ht565ldhs0b9a",database:"mw2z5vk9ocfx8daz",host:"dt3bgg3gu6nqye5f.cbetxkdyhwsb.us-east-1.rds.amazonaws.com",dialect:"mysql"},development:{username:"bk1fn1x6omodiu2k",password:"fz4ht565ldhs0b9a",database:"mw2z5vk9ocfx8daz",host:"dt3bgg3gu6nqye5f.cbetxkdyhwsb.us-east-1.rds.amazonaws.com",dialect:"mysql"},test:{username:"bk1fn1x6omodiu2k",password:"fz4ht565ldhs0b9a",database:"mw2z5vk9ocfx8daz",host:"dt3bgg3gu6nqye5f.cbetxkdyhwsb.us-east-1.rds.amazonaws.com",dialect:"mysql"}}},766:function(e,o,n){var t=n(268),i=n(132),s=n(767);e.exports=function(e){e.use(i.urlencoded({extended:!0})),e.use(i.json()),e.post("/send",function(e,o){var n="\n      <p>You have a new contact request</p>\n      <h3>Contact Details</h3>\n      <ul>  \n        <li>Name: ".concat(e.body.Name,"</li>\n        <li>Email: ").concat(e.body.Email,"</li>\n        <li>Message: ").concat(e.body.Message,"</li>\n      </ul>\n    "),t="\n       ".concat(e.body.ToEmail,"\n  "),i=s.createTransport({host:"smtp.mail.yahoo.com",port:465,service:"yahoo",secure:!1,auth:{user:"projectemail1212@yahoo.com",pass:"1111asdf"},debug:!1,logger:!0}),c={from:"projectemail1212@yahoo.com",to:t,subject:"daveslist",text:"You have a new daveslist message below:",html:n};console.log(c),i.sendMail(c,function(e,o){e?console.log(e):console.log("Email sent: "+o.response)}),o.redirect("/home")}),e.post("/contactSend",function(e,o){var n="\n      <p>You have a new contact request</p>\n      <h3>Contact Details</h3>\n      <ul>  \n        <li>Name: ".concat(e.body.Name,"</li>\n        <li>Email: ").concat(e.body.Email,"</li>\n        <li>Message: ").concat(e.body.Message,"</li>\n      </ul>\n    "),t=s.createTransport({service:"gmail",auth:{user:"hotrest123@gmail.com",pass:"1111asdf"}}),i={from:"hotrest123@gmail.com",to:"dave@dhoff.net",subject:"daveslist Contact Us Message",text:"You have a new daveslist contact us message below:",html:n};console.log(i),t.sendMail(i,function(e,o){e?console.log(e):console.log("Email sent: "+o.response)}),o.redirect("/home")}),e.get("/api/posts/",function(e,o){t.Post.findAll({}).then(function(e){o.json(e)})}),e.get("/api/posts/category/:category",function(e,o){t.Post.findAll({where:{category:e.params.category}}).then(function(e){o.json(e)})}),e.get("/api/posts/:id",function(e,o){t.Post.findOne({where:{id:e.params.id}}).then(function(e){o.json(e)})}),e.post("/api/posts",function(e,o){console.log(e.body),t.Post.create({title:e.body.title,email:e.body.email,price:e.body.price,photo:e.body.photo,body:e.body.body,category:e.body.category}).then(function(e){o.json(e)})}),e.delete("/api/posts/:id",function(e,o){t.Post.destroy({where:{id:e.params.id}}).then(function(e){o.json(e)})}),e.put("/api/posts",function(e,o){t.Post.update(e.body,{where:{id:e.body.id}}).then(function(e){o.json(e)})})}},776:function(e,o){function n(e){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=776},777:function(e,o){function n(e){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=777},809:function(e,o,n){(function(o){var t=n(810);e.exports=function(e){e.get("/",function(e,n){n.sendFile(t.join(o,"../public/login.html"))}),e.get("/form",function(e,n){n.sendFile(t.join(o,"../public/form.html"))}),e.get("/home",function(e,n){n.sendFile(t.join(o,"../public/index.html"))}),e.get("/email",function(e,n){n.sendFile(t.join(o,"../public/email.html"))}),e.get("/login",function(e,n){n.sendFile(t.join(o,"../public/login.html"))})}}).call(this,"/")},810:function(e,o){},811:function(e,o,n){var t=n(131).Router(),i=n(164);t.get("/google",i.authenticate("google",{scope:["profile"]})),t.get("/google/redirect",i.authenticate("google"),function(e,o){console.log("redirecting"),o.redirect("/home")}),e.exports=t},812:function(e,o,n){var t=n(131).Router();t.get("/",function(e,o,n){e.user?n():o.redirect("/auth/login")},function(e,o){o.render("profile",{user:e.user})}),e.exports=t}},[[320,2,1]]]);
//# sourceMappingURL=main.1d499743.chunk.js.map